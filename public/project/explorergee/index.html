<!DOCTYPE html>
<html lang="en" dir="ltr"><head>
  
                           
     


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.87.0" />
<title>exploreRGEE | hydroblog</title>


<meta property="twitter:site" content="@joshualerickson">
<meta property="twitter:creator" content="@joshualerickson">







  
    
  
<meta name="description" content=" is a package that utilizes [RGEE](https://github.com/r-spatial/rgee) and functional programming.">


<meta property="og:site_name" content="hydroblog">
<meta property="og:title" content="exploreRGEE | hydroblog">
<meta property="og:description" content=" is a package that utilizes [RGEE](https://github.com/r-spatial/rgee) and functional programming." />
<meta property="og:type" content="page" />
<meta property="og:url" content="https://hydroblog.netlify.com/project/explorergee/" />
<meta property="og:locale" content="en">




    
        <meta property="og:image" content="https://hydroblog.netlify.com/project/explorergee/featured-hex.png" >
        <meta property="twitter:card" content="summary">
        <meta name="twitter:image" content="https://hydroblog.netlify.com/project/explorergee/featured-hex.png" >
    
    
  <meta itemprop="name" content="exploreRGEE">
<meta itemprop="description" content="exploreRGEEThe goal of exploreRGEE is to explore Google Earth Engine (GEE) in the Rstudio IDE. This package uses bindings and functions from rgee and other spatial packages (sf, leaflet) to explore Google Earth Engine collections relatively quickly while using R. This package is meant to be exploratory and experimental but also provides the user quick functions to reproducible tasks, e.g. repetitive workflows. The reason for doing this inR is that some people are not familiar with JavaScript or Python but versed in R and this provides easy access to use GEE with commonly used methods for exploratory data analysis (tidyverse)."><meta itemprop="datePublished" content="2021-08-18T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-08-18T00:00:00+00:00" />
<meta itemprop="wordCount" content="605"><meta itemprop="image" content="https://hydroblog.netlify.com/project/explorergee/featured-hex.png">
<meta itemprop="keywords" content="dataRetrieval,R," />
  
  <!--[if IE]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="shortcut icon" href="/img/water.ico" type="image/x-icon">
  <link rel="icon" href="/img/water.ico" type="image/x-icon">
  
  
  <link rel="stylesheet" href="/style.main.min.5477c20f89738a32763391bbc2f43dbdfc2db0e7faba550c86cac92c99efa6b6.css" integrity="sha256-VHfCD4lzijJ2M5G7wvQ9vfwtsOf6ulUMhsrJLJnvprY=" media="screen">
  
  
  <script src="/panelset.min.078a92db9bd3228df502db3d9e0453c3cf3d910abe3f8deca0ad196c7071ad41.js" type="text/javascript"></script>
  
  
  <script src="/main.min.0fe7313cc594fa307cdf603bcf065f456b2b2539a1f686ce5f3445d01e702a8d.js" type="text/javascript"></script>
</head>
<body>
      <div class="grid-container single">
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="https://hydroblog.netlify.com/" title="Home">
      <img src="/img/water_blue.png" class="dib db-l h2 w-auto" alt="hydroblog">
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked">
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/about/" title="About hydroblog">About</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/blog/" title="Blog">Blog</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 active" href="/project/" title="Project Portfolio">Projects</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/talk/" title="Talks">Talks</a>
      
      
    </div>
  </nav>
</header>

<main class="page-main pa4" role="main">
  <section class="page-content mw7 center">
    <article class="post-content pa0 ph4-l">
      <header class="post-header">
        <h1 class="f1 lh-solid measure-narrow mb3 fw4">exploreRGEE</h1>
        
        <p class="f6 measure lh-copy mv1">By Josh Erickson in <a href="https://hydroblog.netlify.com/categories/r">R</a>  <a href="https://hydroblog.netlify.com/categories/remote-sensing">Remote Sensing</a> </p>
        <p class="f7 db mv0 ttu">August 18, 2021</p>

      
      <div class="ph0 pt5">
        
    
    
    
      
    
    
    
    
    
      
      
  <a class="btn-links mr2 ba dib" href="https://github.com/joshualerickson/exploreRGEE" target="_blank" rel="noopener"><i class="fas fa-images fa-lg fa-fw mr2"></i>Code</a>


      </div>
      

      </header>
      <section class="post-body pt5 pb4">
        
<script src="https://hydroblog.netlify.com/project/explorergee/index_files/header-attrs/header-attrs.js"></script>


<div id="explorergee" class="section level1">
<h1>exploreRGEE</h1>
<p>The goal of exploreRGEE is to explore Google Earth Engine (GEE) in the Rstudio IDE. This package uses bindings and functions from <a href="https://github.com/r-spatial/rgee">rgee</a> and other spatial packages (<a href="https://github.com/r-spatial/sf">sf</a>, <a href="https://github.com/rstudio/leaflet">leaflet</a>) to explore Google Earth Engine collections relatively quickly while using R. This package is meant to be exploratory and experimental but also provides the user quick functions to reproducible tasks, e.g. repetitive workflows. The reason for doing this in
R is that some people are not familiar with JavaScript or Python but versed in R and this provides easy access to use GEE with commonly used methods for exploratory data analysis (<a href="https://github.com/tidyverse/tidyverse">tidyverse</a>).</p>
<div id="installation" class="section level2">
<h2>Installation</h2>
<p>Development version from <a href="https://github.com/">GitHub</a> with:</p>
<pre class="r"><code># install.packages(&quot;devtools&quot;)
devtools::install_github(&quot;joshualerickson/exploreRGEE&quot;)
# recommended
# https://github.com/mikejohnson51/AOI/tree/master/R
remotes::install_github(&quot;mikejohnson51/AOI&quot;)</code></pre>
</div>
<div id="important-note" class="section level2">
<h2>Important Note</h2>
<p>The backbone of this package relies on <a href="https://github.com/r-spatial/rgee">rgee</a> and a GEE account (it’s free), so for more information go to the rgee <a href="https://github.com/r-spatial/rgee">website</a> or the GEE
<a href="https://developers.google.com/earth-engine/">website</a> for more details on how to get set-up and also tons of functionality using the <a href="https://github.com/r-spatial/rgee">rgee</a> package!</p>
</div>
<div id="similar-packages" class="section level2">
<h2>Similar Packages</h2>
<p>Here is a list of similar packages that I’ve come across. Please let me know of any more!</p>
<p><a href="https://github.com/r-spatial/rgee">rgee</a></p>
<p><a href="https://github.com/r-earthengine/rgeeExtra">rgeeExtra</a></p>
<p><a href="https://github.com/davemlz/eemont">eemont</a></p>
<p><a href="https://jesjehle.github.io/earthEngineGrabR/">earthEngineGrabR</a></p>
<p><a href="https://github.com/giswqs/geemap">geemap</a></p>
</div>
<div id="flow" class="section level2">
<h2>Flow</h2>
<p>The main flow of exploreRGEE is to <strong>get</strong> GEE data and then either vizualize (<code>viz()</code>), reduce regions (<code>rr()</code>) or look at time series (<code>band()</code>). For example,</p>
<pre class="r"><code>get_*() %&gt;% viz()
get_*() %&gt;% rr()
get_*() %&gt;% band()</code></pre>
</div>
<div id="development" class="section level2">
<h2>Development</h2>
<p>Contributions are welcome!</p>
</div>
<div id="example" class="section level2">
<h2>Example</h2>
<p>This is a basic example which shows you how to solve a common problem: visualizing net annual NPP data and creating a time series.</p>
<pre class="r"><code>library(exploreRGEE)
library(rgee)
library(AOI)
#this initializes the API
ee_Initialize()</code></pre>
<p>Let’s look at Northwestern Montana and the median NPP over a 30 year span (1986 to 2016). To do this, we’ll call the <code>get_npp()</code>. This <code>gets</code> the collection while doing some pre-processing steps, e.g. date range, cloud masking, etc. You could also just use the <code>get_any()</code> function and provide the appropriate arguments.</p>
<pre class="r"><code>lincoln_county &lt;- AOI::aoi_get(state = &quot;Montana&quot;, county = &quot;Lincoln&quot;)
npp &lt;- get_npp(lincoln_county, method = &#39;ld_NPP&#39;, param = &#39;annualNPP&#39;, stat = &#39;median&#39;, startDate = &#39;1986-01-01&#39;, endDate = &#39;2016-01-01&#39;)</code></pre>
<p><br></p>
<p>Now we can vizualize this Image with <code>viz()</code>. The scale argument in this function is a way to get a <em>close</em> guess at a min/max argument. If you already have an idea of a min/max value (e.g. Normalized Difference: 0-1) then just put that into the arguments and <code>viz()</code> will not run <code>getInfo()</code>. This approach makes visualising much faster.</p>
<pre class="r"><code>npp %&gt;% viz(scale = 250)</code></pre>
<p><img src="man/figures/npp.png" width="50%" style="display: block; margin: auto;" /></p>
<p><br>
Ok, now that we’ve got an idea of the area let’s see what it would look like if we reduced this area of interest. To do that we’ll use the <code>rr()</code> function. This function uses any GEE Feature Collection or sf object to reduce regions to common statistics, e.g. mean, max, min, median, stdDev and sum. <strong>Scale</strong> matters in this situation! So, make sure you understand what the underlying scale is. Sometimes I’ll use a big scale just to see a coarse depiction and then when I go to the analyis I’ll reduce that scale, up the <code>tileScale</code> and run <code>lazy = TRUE</code>.</p>
<pre class="r"><code>npp %&gt;% rr(scale = 250, leaflet = TRUE)</code></pre>
<p><img src="man/figures/npp2.png" width="50%" style="display: block; margin: auto;" />
<br>
Maybe we want to see how this region looked over time and not as static statistics? Well, we can use the <code>band()</code> function to do this. This function takes each year and <code>toBands()</code> the ImageCollection. From there, using rgee <code>ee_extract()</code> we can then convert to table values. This is an expensive function and you can use <code>lazy = TRUE</code>. This will split the object into 10 groups and run a for loop in the background in sequential. Future developments will hopefully make this parallel.</p>
<pre class="r"><code>npp %&gt;% band(scale = 1000, ggplot = TRUE)</code></pre>
<p><br>
<img src="man/figures/npp3.png" width="532" /></p>
</div>
</div>

        
        <details closed class="f6 fw7 input-reset">
  <dl class="f6 lh-copy">
    <dt class="fw7">Posted on:</dt>
    <dd class="fw5 ml0">August 18, 2021</dd>
  </dl>
  <dl class="f6 lh-copy">
    <dt class="fw7">Length:</dt>
    <dd class="fw5 ml0">3 minute read, 605 words</dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Categories:</dt>
    <dd class="fw5 ml0"> <a href="https://hydroblog.netlify.com/categories/r">R</a>  <a href="https://hydroblog.netlify.com/categories/remote-sensing">Remote Sensing</a> </dd>
  </dl>
  
  
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Tags:</dt>
    <dd class="fw5 ml0"> <a href="https://hydroblog.netlify.com/tags/dataretrieval">dataRetrieval</a>  <a href="https://hydroblog.netlify.com/tags/r">R</a> </dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">See Also:</dt>
    
    <dd class="fw5 ml0"><a href="/project/wildlandhydro/">wildlandhydRo is a package that leverages USGS and SNOTEL APIs.</a></dd>
    
    <dd class="fw5 ml0"><a href="/blog/anova/">ANOVA</a></dd>
    
    <dd class="fw5 ml0"><a href="/blog/anova/anova/2021-08-17/">ANOVA</a></dd>
    
  </dl>
</details>

      </section>
      <footer class="post-footer">
        <div class="post-pagination dt w-100 mt4 mb2">
  
  
    <a class="prev dtc pr2 tl v-top fw6"
    href="https://hydroblog.netlify.com/project/wildlandhydro/">&larr; wildlandhydRo is a package that leverages USGS and SNOTEL APIs.</a>
  
  
  
</div>

      </footer>
    </article>
    
  </section>
</main>
<footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo">
  <nav class="db dt-l w-100">
    <p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">
      &copy; 2021 RStudio, Anywhere
      <span class="middot-divider"></span>
      Made with <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source">Hugo Apéro</a></span>.
      <br />
      
Based on <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source">Blogophonic</a></span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL">Formspree</a>.
    </p>
    
    <div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0">
      <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/joshualerickson" title="github" target="_blank" rel="noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://twitter.com/joshualerickson" title="twitter" target="_blank" rel="noopener">
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
</div>

    </div>
    
    <div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0">
      
    </div>
  </nav>
  <script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</footer>

      </div>
    </body>
</html>
